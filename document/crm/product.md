# 产品管理模块需求文档

## 1. 功能概述

产品管理模块是 CRM 系统的基础模块，用于管理销售产品的信息。该模块支持产品的分类管理、产品信息的维护，并与商机、合同等模块紧密关联。

## 2. 功能需求

### 2.1 基础功能

#### 2.1.1 产品创建
- 支持手动创建新产品
- 必填信息包括：
  - 产品名称
  - 产品编号
  - 产品分类
  - 产品单位
  - 产品价格
- 可选信息包括：
  - 产品描述
  - 产品状态
  - 备注信息

#### 2.1.2 产品查询
- 支持分页查询产品列表
- 支持多条件筛选：
  - 产品名称
  - 产品编号
  - 产品分类
  - 产品状态
  - 产品价格
- 支持导出 Excel
- 支持获取产品精简列表

#### 2.1.3 产品详情
- 显示产品的完整信息
- 包含：
  - 基本信息
  - 分类信息
  - 价格信息
  - 状态信息
  - 操作日志

#### 2.1.4 产品编辑
- 支持修改产品信息
- 记录修改历史
- 权限控制

#### 2.1.5 产品删除
- 支持删除产品
- 删除前进行确认
- 记录删除操作

### 2.2 高级功能

#### 2.2.1 产品分类管理
- 支持创建产品分类
- 支持修改产品分类
- 支持删除产品分类
- 支持查询产品分类列表
- 支持分类层级管理

#### 2.2.2 产品状态管理
- 支持产品启用/禁用
- 支持产品状态变更
- 记录状态变更历史

#### 2.2.3 产品价格管理
- 支持设置产品价格
- 支持价格变更记录
- 支持价格版本管理

### 2.3 权限控制

- 创建权限：crm:product:create
- 更新权限：crm:product:update
- 删除权限：crm:product:delete
- 查询权限：crm:product:query
- 导出权限：crm:product:export
- 分类管理权限：crm:product-category:*

## 3. 数据模型

### 3.1 产品信息（CrmProductDO）
- 基本信息
  - 产品ID
  - 产品名称
  - 产品编号
  - 产品分类ID
  - 产品单位
  - 产品价格
- 状态信息
  - 产品状态
- 时间信息
  - 创建时间
  - 更新时间
- 其他信息
  - 产品描述
  - 备注

### 3.2 产品分类（CrmProductCategoryDO）
- 分类信息
  - 分类ID
  - 分类名称
  - 父分类ID
  - 分类层级
  - 分类排序
- 时间信息
  - 创建时间
  - 更新时间

## 4. 接口设计

### 4.1 产品管理接口
- POST /crm/product/create - 创建产品
- PUT /crm/product/update - 更新产品
- DELETE /crm/product/delete - 删除产品
- GET /crm/product/get - 获取产品详情
- GET /crm/product/page - 获取产品分页列表
- GET /crm/product/export-excel - 导出产品Excel
- GET /crm/product/simple-list - 获取产品精简列表

### 4.2 产品分类接口
- POST /crm/product-category/create - 创建产品分类
- PUT /crm/product-category/update - 更新产品分类
- DELETE /crm/product-category/delete - 删除产品分类
- GET /crm/product-category/get - 获取产品分类详情
- GET /crm/product-category/list - 获取产品分类列表

## 5. 注意事项

1. 产品编号需要唯一
2. 产品分类需要支持多级分类
3. 所有操作需要记录操作日志
4. 导出数据需要考虑性能问题
5. 产品状态变更需要记录变更历史
6. 产品价格变更需要记录变更历史
7. 产品分类删除需要考虑关联产品的处理
8. 产品信息需要支持多语言翻译
9. 产品价格需要支持多币种
10. 产品分类需要支持排序 