# 跟进记录模块需求文档

## 1. 功能概述

跟进记录模块是 CRM 系统的重要功能模块，用于记录和管理与客户、商机、联系人等相关的跟进活动。该模块支持创建、查询、删除跟进记录，并与客户、商机、联系人等模块紧密关联。

## 2. 功能需求

### 2.1 基础功能

#### 2.1.1 跟进记录创建
- 支持手动创建新跟进记录
- 必填信息包括：
  - 跟进内容
  - 跟进时间
  - 跟进类型
  - 关联对象（客户/商机/联系人）
- 可选信息包括：
  - 跟进方式
  - 跟进结果
  - 下次跟进时间
  - 备注信息

#### 2.1.2 跟进记录查询
- 支持分页查询跟进记录列表
- 支持多条件筛选：
  - 跟进内容
  - 跟进时间
  - 跟进类型
  - 关联对象
  - 创建人
- 支持按客户查询跟进记录
- 支持按商机查询跟进记录
- 支持按联系人查询跟进记录

#### 2.1.3 跟进记录详情
- 显示跟进记录的完整信息
- 包含：
  - 基本信息
  - 关联对象信息
  - 创建人信息
  - 跟进内容
  - 跟进结果
  - 下次跟进时间

#### 2.1.4 跟进记录删除
- 支持删除跟进记录
- 删除前进行确认
- 记录删除操作
- 权限控制

### 2.2 高级功能

#### 2.2.1 跟进提醒
- 支持下次跟进时间提醒
- 支持跟进计划提醒
- 支持提醒配置
- 支持提醒通知

#### 2.2.2 跟进统计
- 支持跟进次数统计
- 支持跟进类型统计
- 支持跟进结果统计
- 支持跟进趋势分析

#### 2.2.3 跟进模板
- 支持创建跟进模板
- 支持使用跟进模板
- 支持模板分类管理
- 支持模板权限控制

### 2.3 权限控制

- 创建权限：crm:follow-up-record:create
- 删除权限：crm:follow-up-record:delete
- 查询权限：crm:follow-up-record:query

## 3. 数据模型

### 3.1 跟进记录（CrmFollowUpRecordDO）
- 基本信息
  - 记录ID
  - 跟进内容
  - 跟进时间
  - 跟进类型
  - 跟进方式
  - 跟进结果
- 关联信息
  - 客户ID
  - 商机ID列表
  - 联系人ID列表
- 时间信息
  - 创建时间
  - 下次跟进时间
- 其他信息
  - 创建人
  - 备注

## 4. 接口设计

### 4.1 跟进记录接口
- POST /crm/follow-up-record/create - 创建跟进记录
- DELETE /crm/follow-up-record/delete - 删除跟进记录
- GET /crm/follow-up-record/get - 获取跟进记录详情
- GET /crm/follow-up-record/page - 获取跟进记录分页列表

## 5. 注意事项

1. 跟进记录必须关联至少一个对象（客户/商机/联系人）
2. 所有操作需要记录操作日志
3. 跟进记录删除需要权限控制
4. 跟进提醒需要支持自定义配置
5. 跟进统计需要支持多维度分析
6. 跟进模板需要支持权限控制
7. 跟进记录需要支持富文本内容
8. 跟进记录需要支持附件上传
9. 跟进记录需要支持@提醒功能
10. 跟进记录需要支持数据导出 